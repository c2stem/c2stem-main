<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>C2STEM</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/css/materialize.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="/c2stem.css">
</head>
<body>
<br>
<div>
    <p>After the package drop, the drone has to return to base, avoiding obstacles (tall trees).</p>
    <p>To preserve fuel, the drone will make a sudden burst of positive y velocity to launch over the obstacle.</p>
</div>

<br>

<ul class="collapsible popout" data-collapsible="accordion">
    <li>
        <div class="collapsible-header"><strong>Step One: Plan Your Model</strong></div>
        <div class="collapsible-body"><span><p><strong>To help plan each step in this challenge task, use your conceptual model. If you need to add new objects and/or behaviors or properties, you can go back to the conceptual model and do so!</strong></p>
        </span>
        </div>
    </li>
    <li>
        <div class="collapsible-header"><strong>Step Two: Program the Movement of the Drone</strong></div>
        <div class="collapsible-body"><span><img src="/img/air-up.png"  width="20%" align="right"/>
            <strong>Program Description</strong>
            <ul>
                <li>- Position the drone left of the obstacle and at a height of 20m</li>
                <li>- The obstacle has a height of 26m</li>
                <li>- Drone travels to the right with a constant velocity of 8 m/s</li>
                <li>- Determine:</li>
                <ul>
                    <li>-- What is the minimum velocity burst needed to clear the obstacle?</li>
                    <li>-- How far away (horizontal distance) should the drone use the burst?</li>
                </ul>
            </ul>
            <br>
            <button id="m3t4a" class="waves-effect waves-light btn submit_solution">SUBMIT SOLUTION</button>
            <label id="m3t4a-label" ></Label>
        </span>
        </div>
    </li>
</ul>
</body>

<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.min.js"></script>
<script>
    var assessmentData = {
    };
    window.parent.c2stem.register_save_data_fetcher("assessmentData", function () {
        return assessmentData;
    });

    assessmentData = window.parent.c2stem.userTaskData["assessmentData"];
    if(assessmentData){
        for(var id in assessmentData){
            if(assessmentData.hasOwnProperty(id))
                $("#" + id + "-label").text("  Last submitted on: " + assessmentData[id]);
        }
    }else {
        assessmentData = {};
    }

    var getTimeString = function () {
        return new Date().toLocaleDateString()+ " " + new Date().toLocaleTimeString();
    }

    var submitSolution = function(activityID){
        window.parent.TaskDescriptionActionManger.submitSolution(activityID);
        assessmentData[activityID] = getTimeString();
        $("#" + activityID + "-label").text("  Last submitted on: " + assessmentData[activityID]);
    }

    $('.submit_solution').each(function() {
        console.log(this.id);
        $("#" + this.id).click(function () {
            submitSolution( this.id );
        });
    });

</script>
</html>