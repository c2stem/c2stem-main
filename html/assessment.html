<!DOCTYPE html>
<html>
<head>
    <title>C2STEM</title>
    <link rel="stylesheet" type="text/css" href="c2stem.css">

</head>
<body>
<form id="myform"></form>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="jquery.dform-1.1.0.min.js"></script>
<!--<script type="text/javascript">
    $(function() {
        // Generate a form
        $("#myform").dform({
            "action" : "index.html",
            "method" : "get",
            "html" :
                [
                    {
                        "type" : "p",
                        "html" : "You must login"
                    },
                    {
                        "name" : "username",
                        "id" : "txt-username",
                        "caption" : "Username",
                        "type" : "text",
                        "placeholder" : "E.g. user@example.com"
                    },
                    {
                        "name" : "password",
                        "caption" : "Password",
                        "type" : "password"
                    },
                    {
                        "type" : "submit",
                        "value" : "Login"
                    }
                ]
        });
    });
</script>-->
<script type="text/javascript">
    // registering function that returns data to be saved for this component
    window.parent.c2stem.register_save_data_fetcher("name_of_data_record", function () {
        var assessment_data = {
            name: "demo data"
        };
        return assessment_data;
    });

    // loading presaved data
    var assessmentData = window.parent.c2stem.userTaskData["name_of_assessment"];
    console.log("is any data already saved? ", (assessmentData == undefined) ? "No" : "Yes");
    if(assessmentData){
        console.log("data record name:", assessmentData.name);
    }


    $(function() {
        // Load the form object from path/to/form.json
        $("#myform").dform('test.json', function(data) {
            this //-> Generated $('#myform')
            data //-> data from path/to/form.json
        });
    });
</script>

</body>
</html>